2025-07-03 00:12:52 - qubik - INFO - Logging configured
2025-07-03 00:12:52 - qubik.main - INFO - Main.py
2025-07-03 00:12:52 - qubik.task.task - INFO - Task initialized: uuid=79400df8-51db-4f5c-8d6a-9659fe35d1a6, name='Task-1', state=PENDING, image='Image-1'
2025-07-03 00:12:52 - qubik.task.task_event - INFO - TaskEvent created: event_id=bfa7e35e-8cfa-4b61-9e13-778c73a56b49, target_state=PENDING, timestamp=2025-07-03 00:12:52, task_uuid=79400df8-51db-4f5c-8d6a-9659fe35d1a6, task_name='Task-1'
2025-07-03 00:12:52 - qubik.worker.worker - INFO - Initializing Worker: name='worker-1'
2025-07-03 00:12:52 - qubik.worker.worker - DEBUG - collect_stats: Collecting stats for worker='worker-1'
2025-07-03 00:12:52 - qubik.worker.worker - DEBUG - _start_task: Starting task_id=79400df8-51db-4f5c-8d6a-9659fe35d1a6 ('Task-1')
2025-07-03 00:12:52 - qubik.worker.worker - INFO - run_task: Processing task_event (task='Task-1', target_state='PENDING')
2025-07-03 00:12:52 - qubik.worker.worker - DEBUG - _stop_task: Stopping task_id=79400df8-51db-4f5c-8d6a-9659fe35d1a6 ('Task-1')
2025-07-03 00:12:52 - qubik.manager.manager - INFO - Initializing Manager: name='manager-1'
2025-07-03 00:12:52 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for task_id=79400df8-51db-4f5c-8d6a-9659fe35d1a6
2025-07-03 00:12:52 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-03 00:12:52 - qubik.node.node - INFO - Node initialized: Node-1 (IP: 192.168.1.1, Role: worker)
Node details - Cores: 4, Memory: 1024MB, Disk: 25GB
2025-07-03 00:13:35 - qubik - INFO - Logging configured
2025-07-03 00:13:35 - qubik.main - INFO - Main.py
2025-07-03 00:16:20 - qubik - INFO - Logging configured
2025-07-03 00:16:20 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:16:20 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:16:20 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:19:35 - qubik - INFO - Logging configured
2025-07-03 00:19:35 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:19:35 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:19:35 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:19:58 - qubik - INFO - Logging configured
2025-07-03 00:19:58 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:19:58 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:19:58 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:19:58 - qubik.task.config - INFO - Config created: test-container-4c4e67b7 (image: postgres:13)
Config details - CPU: 0.5, Memory: 268435456, Disk: 0, Ports: [5432]
2025-07-03 00:19:58 - qubik.main - ERROR - An unexpected error occurred during Docker manager initialization or container run.
Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    ~~~~~~~~~~~~^
        method,
        ^^^^^^^
    ...<6 lines>...
        enforce_content_length=enforce_content_length,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    ~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/transport/unixconn.py", line 26, in connect
    sock.connect(self.unix_socket)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    ~~~~~~~~~~~~^
        method,
        ^^^^^^^
    ...<6 lines>...
        enforce_content_length=enforce_content_length,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    ~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/transport/unixconn.py", line 26, in connect
    sock.connect(self.unix_socket)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 223, in _retrieve_server_version
    return self.version(api_version=False)["ApiVersion"]
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/daemon.py", line 181, in version
    return self._result(self._get(url), json=True)
                        ~~~~~~~~~^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/utils/decorators.py", line 44, in inner
    return f(self, *args, **kwargs)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 246, in _get
    return self.get(url, **self._set_request_timeout(kwargs))
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/src/qubik/main.py", line 37, in create_and_run_task_container
    docker_manager_instance = Docker(task_config)
  File "/Users/adamerik/Documents/code/qubik/src/qubik/task/qubik_docker.py", line 48, in __init__
    self.client: docker.DockerClient = client if client else docker.from_env()
                                                             ~~~~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/client.py", line 94, in from_env
    return cls(
        timeout=timeout,
    ...<3 lines>...
        **kwargs_from_env(**kwargs)
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/client.py", line 45, in __init__
    self.api = APIClient(*args, **kwargs)
               ~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 207, in __init__
    self._version = self._retrieve_server_version()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 230, in _retrieve_server_version
    raise DockerException(
        f'Error while fetching server API version: {e}'
    ) from e
docker.errors.DockerException: Error while fetching server API version: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))
2025-07-03 00:19:58 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'start' (container_id: None) with error: Error while fetching server API version: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory')) - Result: initialization_or_run_failure
2025-07-03 00:19:58 - qubik.main - CRITICAL - Critical error: Failed to create and run container. Exiting.
2025-07-03 00:20:03 - qubik - INFO - Logging configured
2025-07-03 00:20:03 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:20:03 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:20:03 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:20:03 - qubik.task.config - INFO - Config created: test-container-aab73eca (image: postgres:13)
Config details - CPU: 0.5, Memory: 268435456, Disk: 0, Ports: [5432]
2025-07-03 00:20:03 - qubik.main - ERROR - An unexpected error occurred during Docker manager initialization or container run.
Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    ~~~~~~~~~~~~^
        method,
        ^^^^^^^
    ...<6 lines>...
        enforce_content_length=enforce_content_length,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    ~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/transport/unixconn.py", line 26, in connect
    sock.connect(self.unix_socket)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    ~~~~~~~~~~~~^
        method,
        ^^^^^^^
    ...<6 lines>...
        enforce_content_length=enforce_content_length,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    ~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/transport/unixconn.py", line 26, in connect
    sock.connect(self.unix_socket)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 223, in _retrieve_server_version
    return self.version(api_version=False)["ApiVersion"]
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/daemon.py", line 181, in version
    return self._result(self._get(url), json=True)
                        ~~~~~~~~~^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/utils/decorators.py", line 44, in inner
    return f(self, *args, **kwargs)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 246, in _get
    return self.get(url, **self._set_request_timeout(kwargs))
           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/requests/adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/src/qubik/main.py", line 37, in create_and_run_task_container
    docker_manager_instance = Docker(task_config)
  File "/Users/adamerik/Documents/code/qubik/src/qubik/task/qubik_docker.py", line 48, in __init__
    self.client: docker.DockerClient = client if client else docker.from_env()
                                                             ~~~~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/client.py", line 94, in from_env
    return cls(
        timeout=timeout,
    ...<3 lines>...
        **kwargs_from_env(**kwargs)
    )
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/client.py", line 45, in __init__
    self.api = APIClient(*args, **kwargs)
               ~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 207, in __init__
    self._version = self._retrieve_server_version()
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/adamerik/Documents/code/qubik/.venv/lib/python3.13/site-packages/docker/api/client.py", line 230, in _retrieve_server_version
    raise DockerException(
        f'Error while fetching server API version: {e}'
    ) from e
docker.errors.DockerException: Error while fetching server API version: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))
2025-07-03 00:20:03 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'start' (container_id: None) with error: Error while fetching server API version: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory')) - Result: initialization_or_run_failure
2025-07-03 00:20:03 - qubik.main - CRITICAL - Critical error: Failed to create and run container. Exiting.
2025-07-03 00:21:30 - qubik - INFO - Logging configured
2025-07-03 00:21:30 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:21:30 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:21:30 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:21:30 - qubik.task.config - INFO - Config created: test-container-f7670958 (image: postgres:13)
Config details - CPU: 0.5, Memory: 268435456, Disk: 0, Ports: [5432]
2025-07-03 00:21:30 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'postgres:13'
2025-07-03 00:21:30 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 00:21:30 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-f7670958' with image 'postgres:13'
2025-07-03 00:21:30 - qubik.task.qubik_docker - INFO - Pulling image: 'postgres:13'...
2025-07-03 00:21:49 - qubik.task.qubik_docker - INFO - Image 'postgres:13' pulled successfully.
2025-07-03 00:21:49 - qubik.task.qubik_docker - INFO - Creating container 'test-container-f7670958' with config: {'image': 'postgres:13', 'environment': ['POSTGRES_USER=cube', 'POSTGRES_PASSWORD=secret'], 'name': 'test-container-f7670958', 'restart_policy': {'Name': 'on-failure'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'attach_stdin': False, 'attach_stdout': True, 'attach_stderr': True, 'tty': False}
2025-07-03 00:21:49 - qubik.task.qubik_docker - ERROR - An unexpected error occurred during container creation for 'test-container-f7670958': run() got unexpected keyword arguments 'attach_stderr', 'attach_stdin', 'attach_stdout'
2025-07-03 00:21:49 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'start' (container_id: None) with error: run() got unexpected keyword arguments 'attach_stderr', 'attach_stdin', 'attach_stdout' - Result: unexpected_error
2025-07-03 00:21:49 - qubik.main - ERROR - Container creation failed: run() got unexpected keyword arguments 'attach_stderr', 'attach_stdin', 'attach_stdout'
2025-07-03 00:21:49 - qubik.main - CRITICAL - Critical error: Failed to create and run container. Exiting.
2025-07-03 00:26:08 - qubik - INFO - Logging configured
2025-07-03 00:26:08 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:26:08 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:26:08 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:26:08 - qubik.task.config - INFO - Config created: test-container-4482f92a (image: postgres:13)
Config details - CPU: 0.5, Memory: 268435456, Disk: 0, Ports: [5432]
2025-07-03 00:26:08 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'postgres:13'
2025-07-03 00:26:08 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 00:26:08 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-4482f92a' with image 'postgres:13'
2025-07-03 00:26:08 - qubik.task.qubik_docker - INFO - Pulling image: 'postgres:13'...
2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - Image 'postgres:13' pulled successfully.
2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - Creating container 'test-container-4482f92a' with config: {'image': 'postgres:13', 'environment': ['POSTGRES_USER=cube', 'POSTGRES_PASSWORD=secret'], 'name': 'test-container-4482f92a', 'restart_policy': {'Name': 'on-failure'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'tty': False}
2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - Container 'test-container-4482f92a' created with ID: 14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf
2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - Starting container '14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf'...
2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - Container '14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf' started successfully.
2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - Logs for container '14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf':

2025-07-03 00:26:10 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf) - Result: success
2025-07-03 00:26:10 - qubik.main - INFO - Container 'test-container-4482f92a' (ID: 14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf) is running.
2025-07-03 00:26:10 - qubik.main - INFO - Container '14bcba279fb5f0206a8e1dfed27c1ae4c00c8fee872565204a28b83d993d7fbf' is running. Waiting for 5 seconds...
2025-07-03 00:27:26 - qubik - INFO - Logging configured
2025-07-03 00:27:26 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 00:27:26 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 00:27:26 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 00:27:26 - qubik.task.config - INFO - Config created: test-container-dacc5b9a (image: postgres:13)
Config details - CPU: 0.5, Memory: 268435456, Disk: 0, Ports: [5432]
2025-07-03 00:27:26 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'postgres:13'
2025-07-03 00:27:26 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 00:27:26 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-dacc5b9a' with image 'postgres:13'
2025-07-03 00:27:26 - qubik.task.qubik_docker - INFO - Pulling image: 'postgres:13'...
2025-07-03 00:27:43 - qubik.task.qubik_docker - INFO - Image 'postgres:13' pulled successfully.
2025-07-03 00:27:43 - qubik.task.qubik_docker - INFO - Creating container 'test-container-dacc5b9a' with config: {'image': 'postgres:13', 'environment': ['POSTGRES_USER=cube', 'POSTGRES_PASSWORD=secret'], 'name': 'test-container-dacc5b9a', 'restart_policy': {'Name': 'on-failure'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'tty': False}
2025-07-03 00:27:43 - qubik.task.qubik_docker - INFO - Container 'test-container-dacc5b9a' created with ID: 09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa
2025-07-03 00:27:43 - qubik.task.qubik_docker - INFO - Starting container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa'...
2025-07-03 00:27:44 - qubik.task.qubik_docker - INFO - Container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa' started successfully.
2025-07-03 00:27:44 - qubik.task.qubik_docker - INFO - Logs for container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa':

2025-07-03 00:27:44 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa) - Result: success
2025-07-03 00:27:44 - qubik.main - INFO - Container 'test-container-dacc5b9a' (ID: 09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa) is running.
2025-07-03 00:27:44 - qubik.main - INFO - Container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa' is running. Waiting for 5 seconds...
2025-07-03 00:27:49 - qubik.main - INFO - 
--- Phase 2: Stopping and Removing Container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa' ---
2025-07-03 00:27:49 - qubik.main - INFO - Attempting to stop and remove container: '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa'
2025-07-03 00:27:49 - qubik.task.qubik_docker - INFO - Attempting to stop and remove container: '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa'
2025-07-03 00:27:49 - qubik.task.qubik_docker - INFO - Stopping container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa'...
2025-07-03 00:27:49 - qubik.task.qubik_docker - INFO - Container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa' stopped successfully.
2025-07-03 00:27:49 - qubik.task.qubik_docker - INFO - Removing container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa'...
2025-07-03 00:27:49 - qubik.task.qubik_docker - INFO - Container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa' removed successfully.
2025-07-03 00:27:49 - qubik.task.qubik_docker - INFO - DockerResult created for action 'stop' (container_id: None) - Result: success
2025-07-03 00:27:49 - qubik.main - INFO - Container '09415802d7970a30ed42888f4c2d60605cb538f879f909931000825700aeadaa' has been stopped and removed successfully.
2025-07-03 00:27:49 - qubik.main - INFO - 
Orchestrator Core Test Script Finished Successfully.
2025-07-03 02:51:21 - qubik - INFO - Logging configured
2025-07-03 02:51:21 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 02:51:21 - qubik.main - INFO - 
--- Phase 1: Creating and Running a Test Container ---
2025-07-03 02:51:21 - qubik.main - INFO - Setting up configuration for the test container...
2025-07-03 02:51:21 - qubik.task.config - INFO - Config created: test-container-00de3aac (image: postgres:13)
Config details - CPU: 0.5, Memory: 268435456, Disk: 0, Ports: [5432]
2025-07-03 02:51:21 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'postgres:13'
2025-07-03 02:51:21 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 02:51:21 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-00de3aac' with image 'postgres:13'
2025-07-03 02:51:21 - qubik.task.qubik_docker - INFO - Pulling image: 'postgres:13'...
2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - Image 'postgres:13' pulled successfully.
2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - Creating container 'test-container-00de3aac' with config: {'image': 'postgres:13', 'environment': ['POSTGRES_USER=cube', 'POSTGRES_PASSWORD=secret'], 'name': 'test-container-00de3aac', 'restart_policy': {'Name': 'on-failure'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'tty': False}
2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - Container 'test-container-00de3aac' created with ID: 7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41
2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - Starting container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41'...
2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - Container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41' started successfully.
2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - Logs for container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41':

2025-07-03 02:51:25 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41) - Result: success
2025-07-03 02:51:25 - qubik.main - INFO - Container 'test-container-00de3aac' (ID: 7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41) is running.
2025-07-03 02:51:25 - qubik.main - INFO - Container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41' is running. Waiting for 5 seconds...
2025-07-03 02:51:30 - qubik.main - INFO - 
--- Phase 2: Stopping and Removing Container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41' ---
2025-07-03 02:51:30 - qubik.main - INFO - Attempting to stop and remove container: '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41'
2025-07-03 02:51:30 - qubik.task.qubik_docker - INFO - Attempting to stop and remove container: '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41'
2025-07-03 02:51:30 - qubik.task.qubik_docker - INFO - Stopping container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41'...
2025-07-03 02:51:31 - qubik.task.qubik_docker - INFO - Container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41' stopped successfully.
2025-07-03 02:51:31 - qubik.task.qubik_docker - INFO - Removing container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41'...
2025-07-03 02:51:31 - qubik.task.qubik_docker - INFO - Container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41' removed successfully.
2025-07-03 02:51:31 - qubik.task.qubik_docker - INFO - DockerResult created for action 'stop' (container_id: None) - Result: success
2025-07-03 02:51:31 - qubik.main - INFO - Container '7f6fa494e98c3836280f5abef66770ba7b25163f6d5ec0639114d55690c95e41' has been stopped and removed successfully.
2025-07-03 02:51:31 - qubik.main - INFO - 
Orchestrator Core Test Script Finished Successfully.
2025-07-03 03:03:46 - qubik - INFO - Logging configured
2025-07-03 03:03:46 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:03:46 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:03:46 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:03:46 - qubik.task.task - INFO - Task initialized: uuid=2a97a98c-90b1-445f-8614-9f2e5306fbc8, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:03:46 - qubik.main - INFO - Created initial task: Task(uuid=2a97a98c..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:03:46 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:03:46 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 2a97a98c) added to queue.
2025-07-03 03:03:46 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 2a97a98c) with desired state: SCHEDULED.
2025-07-03 03:03:46 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 2a97a98c) not found in DB. Assuming initial state PENDING.
2025-07-03 03:03:46 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: 2a97a98c) as desired state is SCHEDULED.
2025-07-03 03:03:46 - qubik.worker.worker - DEBUG - start_task: Starting task_id=2a97a98c-90b1-445f-8614-9f2e5306fbc8 ('test-container-1')
2025-07-03 03:05:24 - qubik - INFO - Logging configured
2025-07-03 03:05:24 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:05:24 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:05:24 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:05:24 - qubik.task.task - INFO - Task initialized: uuid=c62c6bc4-300c-4d86-b2df-525a75a03937, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:05:24 - qubik.main - INFO - Created initial task: Task(uuid=c62c6bc4..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:05:24 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:05:24 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: c62c6bc4) added to queue.
2025-07-03 03:05:24 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: c62c6bc4) with desired state: SCHEDULED.
2025-07-03 03:05:24 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: c62c6bc4) not found in DB. Assuming initial state PENDING.
2025-07-03 03:05:24 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: c62c6bc4) as desired state is SCHEDULED.
2025-07-03 03:05:24 - qubik.worker.worker - DEBUG - start_task: Starting task_id=c62c6bc4-300c-4d86-b2df-525a75a03937 ('test-container-1')
2025-07-03 03:05:24 - qubik.task.config - INFO - Config created: test-container-1-c62c6bc4 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 128, Disk: 100, Ports: []
2025-07-03 03:05:24 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:05:24 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:05:24 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-c62c6bc4' with image 'strm/helloworld-http'
2025-07-03 03:05:24 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:05:40 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:05:40 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-c62c6bc4' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-c62c6bc4', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 128, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:05:40 - qubik.task.qubik_docker - ERROR - Error creating container 'test-container-1-c62c6bc4': 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-container-1-c62c6bc4: Bad Request ("Minimum memory limit allowed is 6MB")
2025-07-03 03:05:40 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'start' (container_id: None) with error: 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-container-1-c62c6bc4: Bad Request ("Minimum memory limit allowed is 6MB") - Result: container_creation_failed
2025-07-03 03:05:40 - qubik.worker.worker - ERROR - Error running task 'test-container-1' (UUID: c62c6bc4-300c-4d86-b2df-525a75a03937): 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-container-1-c62c6bc4: Bad Request ("Minimum memory limit allowed is 6MB") - Result: container_creation_failed
2025-07-03 03:05:40 - qubik.main - CRITICAL - Error starting task: 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-container-1-c62c6bc4: Bad Request ("Minimum memory limit allowed is 6MB")
2025-07-03 03:09:14 - qubik - INFO - Logging configured
2025-07-03 03:09:14 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:09:14 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:09:14 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:09:14 - qubik.task.task - INFO - Task initialized: uuid=bb00b14a-3969-4900-9c6e-2281c5b63ac2, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:09:14 - qubik.main - INFO - Created initial task: Task(uuid=bb00b14a..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:09:14 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:09:14 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: bb00b14a) added to queue.
2025-07-03 03:09:14 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: bb00b14a) with desired state: SCHEDULED.
2025-07-03 03:09:14 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: bb00b14a) not found in DB. Assuming initial state PENDING.
2025-07-03 03:09:14 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: bb00b14a) as desired state is SCHEDULED.
2025-07-03 03:09:14 - qubik.worker.worker - DEBUG - start_task: Starting task_id=bb00b14a-3969-4900-9c6e-2281c5b63ac2 ('test-container-1')
2025-07-03 03:09:14 - qubik.task.config - INFO - Config created: test-container-1-bb00b14a (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:09:14 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:09:14 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:09:14 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-bb00b14a' with image 'strm/helloworld-http'
2025-07-03 03:09:14 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-bb00b14a' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-bb00b14a', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 134217728, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - Container 'test-container-1-bb00b14a' created with ID: 974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785
2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - Starting container '974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785'...
2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - Container '974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785' started successfully.
2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - Logs for container '974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785':

2025-07-03 03:09:16 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785) - Result: success
2025-07-03 03:09:16 - qubik.worker.worker - INFO - Worker 'test-worker-1': Started task 'test-container-1' (Container ID: 974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785).
2025-07-03 03:09:16 - qubik.main - INFO - Task bb00b14a is running in container 974d40feba74eb6a4a30660e5b860ebceff54fdc0d4af656398c7d9382793785
2025-07-03 03:09:16 - qubik.main - INFO - Sleeping for 10 seconds to allow container to run...
2025-07-03 03:09:26 - qubik.main - INFO - --- Stopping Task bb00b14a ---
2025-07-03 03:09:26 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: bb00b14a) added to queue.
2025-07-03 03:09:26 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: bb00b14a) with desired state: COMPLETED.
2025-07-03 03:09:26 - qubik.worker.worker - DEBUG - Task 'test-container-1' (UUID: bb00b14a) found in DB. Current state: COMPLETED.
2025-07-03 03:09:26 - qubik.worker.worker - ERROR - Invalid state transition for task 'test-container-1' (UUID: bb00b14a): from COMPLETED to COMPLETED.
2025-07-03 03:09:26 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'run_task' (container_id: None) with error: Invalid state transition for task 'test-container-1' (UUID: bb00b14a): from COMPLETED to COMPLETED. - Result: invalid_state_transition
2025-07-03 03:09:26 - qubik.main - CRITICAL - Error stopping task: Invalid state transition for task 'test-container-1' (UUID: bb00b14a): from COMPLETED to COMPLETED.
2025-07-03 03:09:32 - qubik - INFO - Logging configured
2025-07-03 03:09:32 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:09:32 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:09:32 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:09:32 - qubik.task.task - INFO - Task initialized: uuid=ccddf675-6a73-4f38-8872-f3ef1e506ad1, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:09:32 - qubik.main - INFO - Created initial task: Task(uuid=ccddf675..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:09:32 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:09:32 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: ccddf675) added to queue.
2025-07-03 03:09:32 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: ccddf675) with desired state: SCHEDULED.
2025-07-03 03:09:32 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: ccddf675) not found in DB. Assuming initial state PENDING.
2025-07-03 03:09:32 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: ccddf675) as desired state is SCHEDULED.
2025-07-03 03:09:32 - qubik.worker.worker - DEBUG - start_task: Starting task_id=ccddf675-6a73-4f38-8872-f3ef1e506ad1 ('test-container-1')
2025-07-03 03:09:32 - qubik.task.config - INFO - Config created: test-container-1-ccddf675 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:09:32 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:09:32 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:09:32 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-ccddf675' with image 'strm/helloworld-http'
2025-07-03 03:09:32 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:09:33 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:09:33 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-ccddf675' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-ccddf675', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 134217728, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:09:33 - qubik.task.qubik_docker - INFO - Container 'test-container-1-ccddf675' created with ID: c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b
2025-07-03 03:09:33 - qubik.task.qubik_docker - INFO - Starting container 'c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b'...
2025-07-03 03:09:34 - qubik.task.qubik_docker - INFO - Container 'c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b' started successfully.
2025-07-03 03:09:34 - qubik.task.qubik_docker - INFO - Logs for container 'c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b':

2025-07-03 03:09:34 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b) - Result: success
2025-07-03 03:09:34 - qubik.worker.worker - INFO - Worker 'test-worker-1': Started task 'test-container-1' (Container ID: c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b).
2025-07-03 03:09:34 - qubik.main - INFO - Task ccddf675 is running in container c6b4409e47a7c59e8420fe5d13c72e69c88be0677005fdc6346ffe6819e7998b
2025-07-03 03:09:34 - qubik.main - INFO - Sleeping for 10 seconds to allow container to run...
2025-07-03 03:09:44 - qubik.main - INFO - --- Stopping Task ccddf675 ---
2025-07-03 03:09:44 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: ccddf675) added to queue.
2025-07-03 03:09:44 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: ccddf675) with desired state: COMPLETED.
2025-07-03 03:09:44 - qubik.worker.worker - DEBUG - Task 'test-container-1' (UUID: ccddf675) found in DB. Current state: COMPLETED.
2025-07-03 03:09:44 - qubik.worker.worker - ERROR - Invalid state transition for task 'test-container-1' (UUID: ccddf675): from COMPLETED to COMPLETED.
2025-07-03 03:09:44 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'run_task' (container_id: None) with error: Invalid state transition for task 'test-container-1' (UUID: ccddf675): from COMPLETED to COMPLETED. - Result: invalid_state_transition
2025-07-03 03:09:44 - qubik.main - CRITICAL - Error stopping task: Invalid state transition for task 'test-container-1' (UUID: ccddf675): from COMPLETED to COMPLETED.
2025-07-03 03:16:58 - qubik - INFO - Logging configured
2025-07-03 03:16:58 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:16:58 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:16:58 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:16:58 - qubik.task.task - INFO - Task initialized: uuid=9cd6c547-5d0c-4fe3-aa0e-5faf3f600465, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:16:58 - qubik.main - INFO - Created initial task for starting: Task(uuid=9cd6c547..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:16:58 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:16:58 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 9cd6c547) added to queue.
2025-07-03 03:16:58 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 9cd6c547) with desired state: SCHEDULED.
2025-07-03 03:16:58 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 9cd6c547) not found in DB. Assuming initial state PENDING.
2025-07-03 03:16:58 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: 9cd6c547) as desired state is SCHEDULED.
2025-07-03 03:16:58 - qubik.worker.worker - DEBUG - start_task: Starting task_id=9cd6c547-5d0c-4fe3-aa0e-5faf3f600465 ('test-container-1')
2025-07-03 03:16:58 - qubik.task.config - INFO - Config created: test-container-1-9cd6c547 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:16:58 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:16:58 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:16:58 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-9cd6c547' with image 'strm/helloworld-http'
2025-07-03 03:16:58 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:17:01 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:17:01 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-9cd6c547' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-9cd6c547', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 134217728, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:17:02 - qubik.task.qubik_docker - INFO - Container 'test-container-1-9cd6c547' created with ID: 4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393
2025-07-03 03:17:02 - qubik.task.qubik_docker - INFO - Starting container '4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393'...
2025-07-03 03:17:02 - qubik.task.qubik_docker - INFO - Container '4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393' started successfully.
2025-07-03 03:17:02 - qubik.task.qubik_docker - INFO - Logs for container '4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393':

2025-07-03 03:17:02 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393) - Result: success
2025-07-03 03:17:02 - qubik.worker.worker - INFO - Worker 'test-worker-1': Started task 'test-container-1' (Container ID: 4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393).
2025-07-03 03:17:02 - qubik.main - INFO - Task 9cd6c547 is running in container 4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393
2025-07-03 03:17:02 - qubik.main - INFO - Sleeping for 10 seconds to allow container to run...
2025-07-03 03:17:12 - qubik.main - INFO - --- Stopping Task 9cd6c547 ---
2025-07-03 03:17:12 - qubik.task.task - INFO - Task initialized: uuid=9cd6c547-5d0c-4fe3-aa0e-5faf3f600465, name='test-container-1', state=COMPLETED, image='strm/helloworld-http'
2025-07-03 03:17:12 - qubik.task.task - DEBUG - Task 9cd6c547-5d0c-4fe3-aa0e-5faf3f600465 associated with container_id: 4ef6d0789fcfd72fabe78ed4607d222a3f8343cd5623e4cfcd7fa773c8600393
2025-07-03 03:17:12 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 9cd6c547) added to queue.
2025-07-03 03:17:12 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 9cd6c547) with desired state: COMPLETED.
2025-07-03 03:17:12 - qubik.worker.worker - DEBUG - Task 'test-container-1' (UUID: 9cd6c547) found in DB. Current state: RUNNING.
2025-07-03 03:17:12 - qubik.worker.worker - INFO - Worker 'test-worker-1': Stopping task 'test-container-1' (UUID: 9cd6c547) as desired state is COMPLETED.
2025-07-03 03:17:12 - qubik.worker.worker - DEBUG - stop_task: Stopping task_id=9cd6c547-5d0c-4fe3-aa0e-5faf3f600465 ('test-container-1')
2025-07-03 03:17:12 - qubik.worker.worker - INFO - Worker 'test-worker-1': I will stop task 'test-container-1'.
2025-07-03 03:17:12 - qubik.task.config - INFO - Config created: test-container-1-9cd6c547 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:17:12 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:17:12 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:20:05 - qubik - INFO - Logging configured
2025-07-03 03:20:05 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:20:05 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:20:05 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:20:05 - qubik.task.task - INFO - Task initialized: uuid=24615c10-d5b3-4c09-a75b-438e549fbe85, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:20:05 - qubik.main - INFO - Created initial task for starting: Task(uuid=24615c10..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:20:05 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:20:05 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 24615c10) added to queue.
2025-07-03 03:20:05 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 24615c10) with desired state: SCHEDULED.
2025-07-03 03:20:05 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 24615c10) not found in DB. Assuming initial state PENDING.
2025-07-03 03:20:05 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: 24615c10) as desired state is SCHEDULED.
2025-07-03 03:20:05 - qubik.worker.worker - DEBUG - start_task: Starting task_id=24615c10-d5b3-4c09-a75b-438e549fbe85 ('test-container-1')
2025-07-03 03:20:05 - qubik.task.config - INFO - Config created: test-container-1-24615c10 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:20:05 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:20:05 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:20:05 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-24615c10' with image 'strm/helloworld-http'
2025-07-03 03:20:05 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-24615c10' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-24615c10', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 134217728, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - Container 'test-container-1-24615c10' created with ID: e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453
2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - Starting container 'e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453'...
2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - Container 'e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453' started successfully.
2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - Logs for container 'e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453':

2025-07-03 03:20:07 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453) - Result: success
2025-07-03 03:20:07 - qubik.worker.worker - INFO - Worker 'test-worker-1': Started task 'test-container-1' (Container ID: e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453).
2025-07-03 03:20:07 - qubik.main - INFO - Task 24615c10 is running in container e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453
2025-07-03 03:20:07 - qubik.main - INFO - Sleeping for 10 seconds to allow container to run...
2025-07-03 03:20:17 - qubik.main - INFO - --- Stopping Task 24615c10 ---
2025-07-03 03:20:17 - qubik.task.task - INFO - Task initialized: uuid=24615c10-d5b3-4c09-a75b-438e549fbe85, name='test-container-1', state=COMPLETED, image='strm/helloworld-http'
2025-07-03 03:20:17 - qubik.task.task - DEBUG - Task 24615c10-d5b3-4c09-a75b-438e549fbe85 associated with container_id: e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453
2025-07-03 03:20:17 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 24615c10) added to queue.
2025-07-03 03:20:17 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 24615c10) with desired state: COMPLETED.
2025-07-03 03:20:17 - qubik.worker.worker - DEBUG - Task 'test-container-1' (UUID: 24615c10) found in DB. Current state: RUNNING.
2025-07-03 03:20:17 - qubik.worker.worker - INFO - Worker 'test-worker-1': Stopping task 'test-container-1' (UUID: 24615c10) as desired state is COMPLETED.
2025-07-03 03:20:17 - qubik.worker.worker - DEBUG - stop_task: Stopping task_id=24615c10-d5b3-4c09-a75b-438e549fbe85 ('test-container-1')
2025-07-03 03:20:17 - qubik.worker.worker - INFO - Worker 'test-worker-1': I will stop task 'test-container-1'.
2025-07-03 03:20:17 - qubik.task.config - INFO - Config created: test-container-1-24615c10 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:20:17 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:20:17 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:20:17 - qubik.task.qubik_docker - WARNING - No container ID set for Docker object. Cannot stop an unmanaged container.
2025-07-03 03:20:17 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'stop' (container_id: None) with error: No container ID to stop - Result: no_container_id
2025-07-03 03:20:17 - qubik.worker.worker - ERROR - Error stopping container 'e0231cd66bdb01bcee9a9d107dfbf50178de80094e973c4851165001815f5453' for task 'test-container-1' (UUID: 24615c10-d5b3-4c09-a75b-438e549fbe85): No container ID to stop - Result: no_container_id
2025-07-03 03:20:17 - qubik.main - CRITICAL - Error stopping task: No container ID to stop
2025-07-03 03:25:42 - qubik - INFO - Logging configured
2025-07-03 03:25:42 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:25:42 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:25:42 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:25:42 - qubik.task.task - INFO - Task initialized: uuid=20144655-36e4-427e-a5c8-2a35d4afbb03, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:25:42 - qubik.main - INFO - Created initial task for starting: Task(uuid=20144655..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:25:42 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:25:42 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 20144655) added to queue.
2025-07-03 03:25:42 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 20144655) with desired state: SCHEDULED.
2025-07-03 03:25:42 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 20144655) not found in DB. Assuming initial state PENDING.
2025-07-03 03:25:42 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: 20144655) as desired state is SCHEDULED.
2025-07-03 03:25:42 - qubik.worker.worker - DEBUG - start_task: Starting task_id=20144655-36e4-427e-a5c8-2a35d4afbb03 ('test-container-1')
2025-07-03 03:25:42 - qubik.task.config - INFO - Config created: test-container-1-20144655 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:25:42 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:25:42 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:25:42 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-20144655' with image 'strm/helloworld-http'
2025-07-03 03:25:42 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-20144655' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-20144655', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 134217728, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - Container 'test-container-1-20144655' created with ID: b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69
2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - Starting container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69'...
2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - Container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69' started successfully.
2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - Logs for container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69':

2025-07-03 03:25:44 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69) - Result: success
2025-07-03 03:25:44 - qubik.worker.worker - INFO - Worker 'test-worker-1': Started task 'test-container-1' (Container ID: b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69).
2025-07-03 03:25:44 - qubik.main - INFO - Task 20144655 is running in container b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69
2025-07-03 03:25:44 - qubik.main - INFO - Sleeping for 10 seconds to allow container to run...
2025-07-03 03:25:54 - qubik.main - INFO - --- Stopping Task 20144655 ---
2025-07-03 03:25:54 - qubik.task.task - INFO - Task initialized: uuid=20144655-36e4-427e-a5c8-2a35d4afbb03, name='test-container-1', state=COMPLETED, image='strm/helloworld-http'
2025-07-03 03:25:54 - qubik.task.task - DEBUG - Task 20144655-36e4-427e-a5c8-2a35d4afbb03 associated with container_id: b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69
2025-07-03 03:25:54 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 20144655) added to queue.
2025-07-03 03:25:54 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 20144655) with desired state: COMPLETED.
2025-07-03 03:25:54 - qubik.worker.worker - DEBUG - Task 'test-container-1' (UUID: 20144655) found in DB. Current state: RUNNING.
2025-07-03 03:25:54 - qubik.worker.worker - INFO - Worker 'test-worker-1': Stopping task 'test-container-1' (UUID: 20144655) as desired state is COMPLETED.
2025-07-03 03:25:54 - qubik.worker.worker - DEBUG - stop_task: Stopping task_id=20144655-36e4-427e-a5c8-2a35d4afbb03 ('test-container-1')
2025-07-03 03:25:54 - qubik.worker.worker - INFO - Worker 'test-worker-1': I will stop task 'test-container-1'.
2025-07-03 03:25:54 - qubik.task.config - INFO - Config created: test-container-1-20144655 (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:25:54 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:25:54 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:25:54 - qubik.task.qubik_docker - INFO - Attempting to stop and remove container: 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69'
2025-07-03 03:25:54 - qubik.task.qubik_docker - INFO - Stopping container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69'...
2025-07-03 03:26:05 - qubik.task.qubik_docker - INFO - Container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69' stopped successfully.
2025-07-03 03:26:05 - qubik.task.qubik_docker - INFO - Removing container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69'...
2025-07-03 03:26:05 - qubik.task.qubik_docker - INFO - Container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69' removed successfully.
2025-07-03 03:26:05 - qubik.task.qubik_docker - INFO - DockerResult created for action 'stop' (container_id: None) - Result: success
2025-07-03 03:26:05 - qubik.worker.worker - INFO - Stopped and removed container 'b208b79c4381e777926ea62193daba1d9a9144c012f6a01f1747167a1f3b9b69' for task 'test-container-1' (UUID: 20144655-36e4-427e-a5c8-2a35d4afbb03)
2025-07-03 03:26:05 - qubik.main - INFO - Task 20144655 successfully processed for stopping.
2025-07-03 03:26:05 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 03:26:19 - qubik - INFO - Logging configured
2025-07-03 03:26:19 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 03:26:19 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker-1'
2025-07-03 03:26:19 - qubik.main - INFO - Worker 'test-worker-1' initialized.
2025-07-03 03:26:19 - qubik.task.task - INFO - Task initialized: uuid=3ef42b7f-9498-4ddf-bbc8-bd5e69a7f46a, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 03:26:19 - qubik.main - INFO - Created initial task for starting: Task(uuid=3ef42b7f..., name='test-container-1', state=SCHEDULED)
2025-07-03 03:26:19 - qubik.main - INFO - --- Starting Task ---
2025-07-03 03:26:19 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 3ef42b7f) added to queue.
2025-07-03 03:26:19 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 3ef42b7f) with desired state: SCHEDULED.
2025-07-03 03:26:19 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 3ef42b7f) not found in DB. Assuming initial state PENDING.
2025-07-03 03:26:19 - qubik.worker.worker - INFO - Worker 'test-worker-1': Starting task 'test-container-1' (UUID: 3ef42b7f) as desired state is SCHEDULED.
2025-07-03 03:26:19 - qubik.worker.worker - DEBUG - start_task: Starting task_id=3ef42b7f-9498-4ddf-bbc8-bd5e69a7f46a ('test-container-1')
2025-07-03 03:26:19 - qubik.task.config - INFO - Config created: test-container-1-3ef42b7f (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:26:19 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:26:19 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:26:19 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-3ef42b7f' with image 'strm/helloworld-http'
2025-07-03 03:26:19 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 03:26:20 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 03:26:20 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-3ef42b7f' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-3ef42b7f', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 134217728, 'nano_cpus': 100000000, 'tty': False}
2025-07-03 03:26:20 - qubik.task.qubik_docker - INFO - Container 'test-container-1-3ef42b7f' created with ID: 62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108
2025-07-03 03:26:20 - qubik.task.qubik_docker - INFO - Starting container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108'...
2025-07-03 03:26:21 - qubik.task.qubik_docker - INFO - Container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108' started successfully.
2025-07-03 03:26:21 - qubik.task.qubik_docker - INFO - Logs for container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108':

2025-07-03 03:26:21 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108) - Result: success
2025-07-03 03:26:21 - qubik.worker.worker - INFO - Worker 'test-worker-1': Started task 'test-container-1' (Container ID: 62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108).
2025-07-03 03:26:21 - qubik.main - INFO - Task 3ef42b7f is running in container 62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108
2025-07-03 03:26:21 - qubik.main - INFO - Sleeping for 10 seconds to allow container to run...
2025-07-03 03:26:31 - qubik.main - INFO - --- Stopping Task 3ef42b7f ---
2025-07-03 03:26:31 - qubik.task.task - INFO - Task initialized: uuid=3ef42b7f-9498-4ddf-bbc8-bd5e69a7f46a, name='test-container-1', state=COMPLETED, image='strm/helloworld-http'
2025-07-03 03:26:31 - qubik.task.task - DEBUG - Task 3ef42b7f-9498-4ddf-bbc8-bd5e69a7f46a associated with container_id: 62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108
2025-07-03 03:26:31 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 3ef42b7f) added to queue.
2025-07-03 03:26:31 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 3ef42b7f) with desired state: COMPLETED.
2025-07-03 03:26:31 - qubik.worker.worker - DEBUG - Task 'test-container-1' (UUID: 3ef42b7f) found in DB. Current state: RUNNING.
2025-07-03 03:26:31 - qubik.worker.worker - INFO - Worker 'test-worker-1': Stopping task 'test-container-1' (UUID: 3ef42b7f) as desired state is COMPLETED.
2025-07-03 03:26:31 - qubik.worker.worker - DEBUG - stop_task: Stopping task_id=3ef42b7f-9498-4ddf-bbc8-bd5e69a7f46a ('test-container-1')
2025-07-03 03:26:31 - qubik.worker.worker - INFO - Worker 'test-worker-1': I will stop task 'test-container-1'.
2025-07-03 03:26:31 - qubik.task.config - INFO - Config created: test-container-1-3ef42b7f (image: strm/helloworld-http)
Config details - CPU: 0.1, Memory: 134217728, Disk: 100, Ports: []
2025-07-03 03:26:31 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 03:26:31 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 03:26:31 - qubik.task.qubik_docker - INFO - Attempting to stop and remove container: '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108'
2025-07-03 03:26:31 - qubik.task.qubik_docker - INFO - Stopping container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108'...
2025-07-03 03:26:41 - qubik.task.qubik_docker - INFO - Container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108' stopped successfully.
2025-07-03 03:26:41 - qubik.task.qubik_docker - INFO - Removing container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108'...
2025-07-03 03:26:41 - qubik.task.qubik_docker - INFO - Container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108' removed successfully.
2025-07-03 03:26:41 - qubik.task.qubik_docker - INFO - DockerResult created for action 'stop' (container_id: None) - Result: success
2025-07-03 03:26:41 - qubik.worker.worker - INFO - Stopped and removed container '62e38f2d50bd7da4cc26a39db199facf499cab6976db716c00fd6bc09da66108' for task 'test-container-1' (UUID: 3ef42b7f-9498-4ddf-bbc8-bd5e69a7f46a)
2025-07-03 03:26:41 - qubik.main - INFO - Task 3ef42b7f successfully processed for stopping.
2025-07-03 03:26:41 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 10:56:55 - qubik - INFO - Logging configured
2025-07-03 10:56:55 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 10:56:55 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-03 10:56:55 - qubik.main - INFO - Starting worker task processing loop...
2025-07-03 10:56:55 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-03 10:56:55 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:56:55 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-03 10:57:00 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:05 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:10 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:15 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:20 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:24 - qubik.api.api - CRITICAL - Worker instance not initialized for API.
2025-07-03 10:57:25 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:30 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:35 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 10:57:37 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 11:03:04 - qubik - INFO - Logging configured
2025-07-03 11:03:04 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 11:03:04 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-03 11:03:04 - qubik.main - INFO - Starting worker task processing loop...
2025-07-03 11:03:04 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-03 11:03:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:04 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-03 11:03:06 - qubik.api.api - CRITICAL - Worker instance not initialized for API.
2025-07-03 11:03:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:09 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 11:03:23 - qubik - INFO - Logging configured
2025-07-03 11:03:23 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 11:03:23 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-03 11:03:23 - qubik.main - INFO - Starting worker task processing loop...
2025-07-03 11:03:23 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-03 11:03:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:23 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-03 11:03:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:29 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-03 11:03:29 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='test-worker'
2025-07-03 11:03:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:03:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:04:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:05:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:06:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:07:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:08:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:14 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:09:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:14 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:10:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:14 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:11:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:14 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:12:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:06 - qubik.api.api - INFO - Received request to start task event ID: 266592cd-960d-4091-981c-8c25c44b1018
2025-07-03 11:13:06 - qubik.task.task - INFO - Task initialized: uuid=266592cd-960d-4091-981c-8c25c44b1018, name='test-chapter-5-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 11:13:06 - qubik.task.task_event - INFO - TaskEvent created: event_id=266592cd-960d-4091-981c-8c25c44b1018, target_state=RUNNING, timestamp=2025-07-03 11:04:54, task_uuid=266592cd-960d-4091-981c-8c25c44b1018, task_name='test-chapter-5-1'
2025-07-03 11:13:06 - qubik.worker.worker - INFO - Task 'test-chapter-5-1' (UUID: 266592cd) added to queue.
2025-07-03 11:13:06 - qubik.api.api - INFO - Added task 266592cd-960d-4091-981c-8c25c44b1018 to worker queue.
2025-07-03 11:13:09 - qubik.worker.worker - INFO - Dequeued task 'test-chapter-5-1' (UUID: 266592cd) with desired state: SCHEDULED.
2025-07-03 11:13:09 - qubik.worker.worker - INFO - Task 'test-chapter-5-1' (UUID: 266592cd) not found in DB. Assuming initial state PENDING.
2025-07-03 11:13:09 - qubik.worker.worker - INFO - Worker 'test-worker': Starting task 'test-chapter-5-1' (UUID: 266592cd) as desired state is SCHEDULED.
2025-07-03 11:13:09 - qubik.worker.worker - DEBUG - start_task: Starting task_id=266592cd-960d-4091-981c-8c25c44b1018 ('test-chapter-5-1')
2025-07-03 11:13:09 - qubik.task.config - INFO - Config created: test-chapter-5-1-266592cd (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 256, Disk: 512, Ports: []
2025-07-03 11:13:09 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 11:13:09 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 11:13:09 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-chapter-5-1-266592cd' with image 'strm/helloworld-http'
2025-07-03 11:13:09 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 11:13:12 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 11:13:12 - qubik.task.qubik_docker - INFO - Creating container 'test-chapter-5-1-266592cd' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-chapter-5-1-266592cd', 'restart_policy': {'Name': 'always'}, 'publish_all_ports': True, 'mem_limit': 256, 'nano_cpus': 1000000000, 'tty': False}
2025-07-03 11:13:12 - qubik.task.qubik_docker - ERROR - Error creating container 'test-chapter-5-1-266592cd': 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-chapter-5-1-266592cd: Bad Request ("Minimum memory limit allowed is 6MB")
2025-07-03 11:13:12 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'start' (container_id: None) with error: 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-chapter-5-1-266592cd: Bad Request ("Minimum memory limit allowed is 6MB") - Result: container_creation_failed
2025-07-03 11:13:12 - qubik.worker.worker - ERROR - Error running task 'test-chapter-5-1' (UUID: 266592cd-960d-4091-981c-8c25c44b1018): 400 Client Error for http+docker://localhost/v1.50/containers/create?name=test-chapter-5-1-266592cd: Bad Request ("Minimum memory limit allowed is 6MB") - Result: container_creation_failed
2025-07-03 11:13:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:13:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:14:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:15:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:16:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:17:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:18:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:19:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:22 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 11:20:28 - qubik - INFO - Logging configured
2025-07-03 11:20:28 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 11:20:28 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-03 11:20:28 - qubik.main - INFO - Starting worker task processing loop...
2025-07-03 11:20:28 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-03 11:20:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:28 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-03 11:20:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:20:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:21:56 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-03 11:21:56 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='test-worker'
2025-07-03 11:21:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:22:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:23:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:03 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:08 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:13 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:18 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:18 - qubik.api.api - INFO - Received request to start task event ID: 6a3de997-cb67-4f6c-a841-fc93db15b1d4
2025-07-03 11:24:18 - qubik.task.task - INFO - Task initialized: uuid=16832cb5-3883-4775-9c1b-79a9482a6319, name='my-default-task', state=RUNNING, image='strm/helloworld-http'
2025-07-03 11:24:18 - qubik.task.task_event - INFO - TaskEvent created: event_id=6a3de997-cb67-4f6c-a841-fc93db15b1d4, target_state=SCHEDULED, timestamp=2025-07-03 06:24:18, task_uuid=16832cb5-3883-4775-9c1b-79a9482a6319, task_name='my-default-task'
2025-07-03 11:24:18 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 16832cb5) added to queue.
2025-07-03 11:24:18 - qubik.api.api - INFO - Added task 16832cb5-3883-4775-9c1b-79a9482a6319 to worker queue.
2025-07-03 11:24:23 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: 16832cb5) with desired state: RUNNING.
2025-07-03 11:24:23 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 16832cb5) not found in DB. Assuming initial state PENDING.
2025-07-03 11:24:23 - qubik.worker.worker - ERROR - Invalid state transition for task 'my-default-task' (UUID: 16832cb5): from PENDING to RUNNING.
2025-07-03 11:24:23 - qubik.task.qubik_docker - ERROR - DockerResult created for action 'run_task' (container_id: None) with error: Invalid state transition for task 'my-default-task' (UUID: 16832cb5): from PENDING to RUNNING. - Result: invalid_state_transition
2025-07-03 11:24:23 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:28 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:33 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:38 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:43 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:48 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:53 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:24:58 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:02 - qubik.api.api - INFO - Received request to start task event ID: 3f508675-f7eb-44f0-ac72-31c0fd7b73b6
2025-07-03 11:25:02 - qubik.task.task - INFO - Task initialized: uuid=f00382cf-f411-40ab-afbd-ea51ca0fb0d4, name='my-default-task', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 11:25:02 - qubik.task.task_event - INFO - TaskEvent created: event_id=3f508675-f7eb-44f0-ac72-31c0fd7b73b6, target_state=RUNNING, timestamp=2025-07-03 06:25:02, task_uuid=f00382cf-f411-40ab-afbd-ea51ca0fb0d4, task_name='my-default-task'
2025-07-03 11:25:02 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: f00382cf) added to queue.
2025-07-03 11:25:02 - qubik.api.api - INFO - Added task f00382cf-f411-40ab-afbd-ea51ca0fb0d4 to worker queue.
2025-07-03 11:25:03 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: f00382cf) with desired state: SCHEDULED.
2025-07-03 11:25:03 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: f00382cf) not found in DB. Assuming initial state PENDING.
2025-07-03 11:25:03 - qubik.worker.worker - INFO - Worker 'test-worker': Starting task 'my-default-task' (UUID: f00382cf) as desired state is SCHEDULED.
2025-07-03 11:25:03 - qubik.worker.worker - DEBUG - start_task: Starting task_id=f00382cf-f411-40ab-afbd-ea51ca0fb0d4 ('my-default-task')
2025-07-03 11:25:03 - qubik.task.config - INFO - Config created: my-default-task-f00382cf (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 268435456, Disk: 1, Ports: []
2025-07-03 11:25:03 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 11:25:03 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 11:25:03 - qubik.task.qubik_docker - INFO - Attempting to run task 'my-default-task-f00382cf' with image 'strm/helloworld-http'
2025-07-03 11:25:03 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 11:25:06 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 11:25:06 - qubik.task.qubik_docker - INFO - Creating container 'my-default-task-f00382cf' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'my-default-task-f00382cf', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 1000000000, 'tty': False}
2025-07-03 11:25:06 - qubik.task.qubik_docker - INFO - Container 'my-default-task-f00382cf' created with ID: 9e38d8cbc3d0e042c62b12f0c8e304fec2af940f1fb69baf0aec2910eb17c1ab
2025-07-03 11:25:06 - qubik.task.qubik_docker - INFO - Starting container '9e38d8cbc3d0e042c62b12f0c8e304fec2af940f1fb69baf0aec2910eb17c1ab'...
2025-07-03 11:25:07 - qubik.task.qubik_docker - INFO - Container '9e38d8cbc3d0e042c62b12f0c8e304fec2af940f1fb69baf0aec2910eb17c1ab' started successfully.
2025-07-03 11:25:07 - qubik.task.qubik_docker - INFO - Logs for container '9e38d8cbc3d0e042c62b12f0c8e304fec2af940f1fb69baf0aec2910eb17c1ab':

2025-07-03 11:25:07 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 9e38d8cbc3d0e042c62b12f0c8e304fec2af940f1fb69baf0aec2910eb17c1ab) - Result: success
2025-07-03 11:25:07 - qubik.worker.worker - INFO - Worker 'test-worker': Started task 'my-default-task' (Container ID: 9e38d8cbc3d0e042c62b12f0c8e304fec2af940f1fb69baf0aec2910eb17c1ab).
2025-07-03 11:25:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:25:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:26:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:49 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-03 11:27:49 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='test-worker'
2025-07-03 11:27:49 - qubik.api.api - ERROR - An unexpected error occurred in get_tasks_handler.
Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/src/qubik/api/api.py", line 54, in get_tasks_handler
    domain_tasks = worker.get_tasks()
  File "/Users/adamerik/Documents/code/qubik/src/qubik/worker/worker.py", line 32, in get_tasks
    for _, v in self.db:
        ^^^^
TypeError: cannot unpack non-iterable UUID object
2025-07-03 11:27:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:27:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:28:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:29:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:05 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-03 11:30:05 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='test-worker'
2025-07-03 11:30:05 - qubik.api.api - ERROR - An unexpected error occurred in get_tasks_handler.
Traceback (most recent call last):
  File "/Users/adamerik/Documents/code/qubik/src/qubik/api/api.py", line 54, in get_tasks_handler
    domain_tasks = worker.get_tasks()
  File "/Users/adamerik/Documents/code/qubik/src/qubik/worker/worker.py", line 32, in get_tasks
TypeError: cannot unpack non-iterable UUID object
2025-07-03 11:30:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:26 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 11:30:27 - qubik - INFO - Logging configured
2025-07-03 11:30:27 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 11:30:27 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-03 11:30:27 - qubik.main - INFO - Starting worker task processing loop...
2025-07-03 11:30:27 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-03 11:30:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:27 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-03 11:30:30 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-03 11:30:30 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='test-worker'
2025-07-03 11:30:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:49 - qubik.api.api - INFO - Received request to start task event ID: 0764d36c-80d0-4f7f-9d90-cb6281e9ee75
2025-07-03 11:30:49 - qubik.task.task - INFO - Task initialized: uuid=01eb666d-2094-41b4-a5dc-0e1d04ed4df8, name='my-default-task', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 11:30:49 - qubik.task.task_event - INFO - TaskEvent created: event_id=0764d36c-80d0-4f7f-9d90-cb6281e9ee75, target_state=RUNNING, timestamp=2025-07-03 06:30:49, task_uuid=01eb666d-2094-41b4-a5dc-0e1d04ed4df8, task_name='my-default-task'
2025-07-03 11:30:49 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 01eb666d) added to queue.
2025-07-03 11:30:49 - qubik.api.api - INFO - Added task 01eb666d-2094-41b4-a5dc-0e1d04ed4df8 to worker queue.
2025-07-03 11:30:52 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: 01eb666d) with desired state: SCHEDULED.
2025-07-03 11:30:52 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 01eb666d) not found in DB. Assuming initial state PENDING.
2025-07-03 11:30:52 - qubik.worker.worker - INFO - Worker 'test-worker': Starting task 'my-default-task' (UUID: 01eb666d) as desired state is SCHEDULED.
2025-07-03 11:30:52 - qubik.worker.worker - DEBUG - start_task: Starting task_id=01eb666d-2094-41b4-a5dc-0e1d04ed4df8 ('my-default-task')
2025-07-03 11:30:52 - qubik.task.config - INFO - Config created: my-default-task-01eb666d (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 268435456, Disk: 1, Ports: []
2025-07-03 11:30:52 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 11:30:52 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 11:30:52 - qubik.task.qubik_docker - INFO - Attempting to run task 'my-default-task-01eb666d' with image 'strm/helloworld-http'
2025-07-03 11:30:52 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - Creating container 'my-default-task-01eb666d' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'my-default-task-01eb666d', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 1000000000, 'tty': False}
2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - Container 'my-default-task-01eb666d' created with ID: 9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada
2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - Starting container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada'...
2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - Container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada' started successfully.
2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - Logs for container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada':

2025-07-03 11:30:54 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada) - Result: success
2025-07-03 11:30:54 - qubik.worker.worker - INFO - Worker 'test-worker': Started task 'my-default-task' (Container ID: 9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada).
2025-07-03 11:30:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:30:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:00 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-03 11:31:00 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='test-worker'
2025-07-03 11:31:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:14 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:31:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:14 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:32:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:04 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:09 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:09 - qubik.api.api - INFO - Received request to stop task with ID: 01eb666d-2094-41b4-a5dc-0e1d04ed4df8
2025-07-03 11:33:09 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 01eb666d) added to queue.
2025-07-03 11:33:09 - qubik.api.api - INFO - Added task 01eb666d-2094-41b4-a5dc-0e1d04ed4df8 (state COMPLETED) to worker queue for stopping.
2025-07-03 11:33:14 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: 01eb666d) with desired state: COMPLETED.
2025-07-03 11:33:14 - qubik.worker.worker - DEBUG - Task 'my-default-task' (UUID: 01eb666d) found in DB. Current state: RUNNING.
2025-07-03 11:33:14 - qubik.worker.worker - INFO - Worker 'test-worker': Stopping task 'my-default-task' (UUID: 01eb666d) as desired state is COMPLETED.
2025-07-03 11:33:14 - qubik.worker.worker - DEBUG - stop_task: Stopping task_id=01eb666d-2094-41b4-a5dc-0e1d04ed4df8 ('my-default-task')
2025-07-03 11:33:14 - qubik.worker.worker - INFO - Worker 'test-worker': I will stop task 'my-default-task'.
2025-07-03 11:33:14 - qubik.task.config - INFO - Config created: my-default-task-01eb666d (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 268435456, Disk: 1, Ports: []
2025-07-03 11:33:14 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 11:33:14 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 11:33:14 - qubik.task.qubik_docker - INFO - Attempting to stop and remove container: '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada'
2025-07-03 11:33:14 - qubik.task.qubik_docker - INFO - Stopping container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada'...
2025-07-03 11:33:25 - qubik.task.qubik_docker - INFO - Container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada' stopped successfully.
2025-07-03 11:33:25 - qubik.task.qubik_docker - INFO - Removing container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada'...
2025-07-03 11:33:25 - qubik.task.qubik_docker - INFO - Container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada' removed successfully.
2025-07-03 11:33:25 - qubik.task.qubik_docker - INFO - DockerResult created for action 'stop' (container_id: None) - Result: success
2025-07-03 11:33:25 - qubik.worker.worker - INFO - Stopped and removed container '9d214bc42e9ab06e2d4a847ff49d1f5a95fe149d135c681eba3d2afade09cada' for task 'my-default-task' (UUID: 01eb666d-2094-41b4-a5dc-0e1d04ed4df8)
2025-07-03 11:33:25 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:30 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:35 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:40 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:45 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 11:33:48 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-03 13:55:47 - qubik - INFO - Logging configured
2025-07-03 13:55:47 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-03 13:55:47 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-03 13:55:47 - qubik.main - INFO - Starting worker task processing loop...
2025-07-03 13:55:47 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-03 13:55:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:55:47 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:55:47 - qubik.worker.worker - INFO - Started background metrics collection for worker 'test-worker'
2025-07-03 13:55:47 - qubik.main - INFO - Worker metrics collection started in a background thread.
2025-07-03 13:55:47 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-03 13:55:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:55:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:55:58 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:02 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:56:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:07 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:08 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:09 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:10 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:11 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:13 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:17 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:56:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:25 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:32 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:56:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:36 - qubik.api.api - INFO - Received request to start task event ID: e47b8e20-0f4e-48ce-8c20-257d5da21377
2025-07-03 13:56:36 - qubik.task.task - INFO - Task initialized: uuid=30cb6ed9-ee22-49d3-9bed-47d473bd2e2e, name='my-default-task', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 13:56:36 - qubik.task.task_event - INFO - TaskEvent created: event_id=e47b8e20-0f4e-48ce-8c20-257d5da21377, target_state=RUNNING, timestamp=2025-07-03 08:56:36, task_uuid=30cb6ed9-ee22-49d3-9bed-47d473bd2e2e, task_name='my-default-task'
2025-07-03 13:56:36 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 30cb6ed9) added to queue.
2025-07-03 13:56:36 - qubik.api.api - INFO - Added task 30cb6ed9-ee22-49d3-9bed-47d473bd2e2e to worker queue.
2025-07-03 13:56:37 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: 30cb6ed9) with desired state: SCHEDULED.
2025-07-03 13:56:37 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 30cb6ed9) not found in DB. Assuming initial state PENDING.
2025-07-03 13:56:37 - qubik.worker.worker - INFO - Worker 'test-worker': Starting task 'my-default-task' (UUID: 30cb6ed9) as desired state is SCHEDULED.
2025-07-03 13:56:37 - qubik.worker.worker - DEBUG - start_task: Starting task_id=30cb6ed9-ee22-49d3-9bed-47d473bd2e2e ('my-default-task')
2025-07-03 13:56:37 - qubik.task.config - INFO - Config created: my-default-task-30cb6ed9 (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 268435456, Disk: 1, Ports: []
2025-07-03 13:56:37 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 13:56:37 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 13:56:37 - qubik.task.qubik_docker - INFO - Attempting to run task 'my-default-task-30cb6ed9' with image 'strm/helloworld-http'
2025-07-03 13:56:37 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - Creating container 'my-default-task-30cb6ed9' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'my-default-task-30cb6ed9', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 1000000000, 'tty': False}
2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - Container 'my-default-task-30cb6ed9' created with ID: 2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857
2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - Starting container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857'...
2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - Container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857' started successfully.
2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - Logs for container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857':

2025-07-03 13:56:41 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857) - Result: success
2025-07-03 13:56:41 - qubik.worker.worker - INFO - Worker 'test-worker': Started task 'my-default-task' (Container ID: 2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857).
2025-07-03 13:56:41 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:43 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:46 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:47 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:56:48 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:49 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:50 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:51 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:52 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:56:56 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:56:59 - qubik.api.api - INFO - Received request to stop task with ID: 01eb666d-2094-41b4-a5dc-0e1d04ed4df8
2025-07-03 13:57:01 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:02 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:57:06 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:11 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:16 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:17 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:57:21 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:25 - qubik.api.api - INFO - Received request to stop task with ID: 30cb6ed9-ee22-49d3-9bed-47d473bd2e2e
2025-07-03 13:57:25 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 30cb6ed9) added to queue.
2025-07-03 13:57:25 - qubik.api.api - INFO - Added task 30cb6ed9-ee22-49d3-9bed-47d473bd2e2e (state COMPLETED) to worker queue for stopping.
2025-07-03 13:57:26 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: 30cb6ed9) with desired state: COMPLETED.
2025-07-03 13:57:26 - qubik.worker.worker - DEBUG - Task 'my-default-task' (UUID: 30cb6ed9) found in DB. Current state: RUNNING.
2025-07-03 13:57:26 - qubik.worker.worker - INFO - Worker 'test-worker': Stopping task 'my-default-task' (UUID: 30cb6ed9) as desired state is COMPLETED.
2025-07-03 13:57:26 - qubik.worker.worker - DEBUG - stop_task: Stopping task_id=30cb6ed9-ee22-49d3-9bed-47d473bd2e2e ('my-default-task')
2025-07-03 13:57:26 - qubik.worker.worker - INFO - Worker 'test-worker': I will stop task 'my-default-task'.
2025-07-03 13:57:26 - qubik.task.config - INFO - Config created: my-default-task-30cb6ed9 (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 268435456, Disk: 1, Ports: []
2025-07-03 13:57:26 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 13:57:26 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 13:57:26 - qubik.task.qubik_docker - INFO - Attempting to stop and remove container: '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857'
2025-07-03 13:57:26 - qubik.task.qubik_docker - INFO - Stopping container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857'...
2025-07-03 13:57:31 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:57:32 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:57:37 - qubik.task.qubik_docker - INFO - Container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857' stopped successfully.
2025-07-03 13:57:37 - qubik.task.qubik_docker - INFO - Removing container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857'...
2025-07-03 13:57:37 - qubik.task.qubik_docker - INFO - Container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857' removed successfully.
2025-07-03 13:57:37 - qubik.task.qubik_docker - INFO - DockerResult created for action 'stop' (container_id: None) - Result: success
2025-07-03 13:57:37 - qubik.worker.worker - INFO - Stopped and removed container '2e36aa92acb5cc86c0fd4fae6e18b072382b3a20ace394c18b2b9f06ea091857' for task 'my-default-task' (UUID: 30cb6ed9-ee22-49d3-9bed-47d473bd2e2e)
2025-07-03 13:57:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:39 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:57:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:47 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:57:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:57:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:02 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:58:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:17 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:58:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:32 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:58:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:47 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:58:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:58:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:02 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:59:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:17 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:59:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:17 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:59:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:23 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:59:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:32 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:59:33 - qubik.api.api - INFO - Received request to start task event ID: 980c5825-06e7-42b6-b791-79bf679420b8
2025-07-03 13:59:33 - qubik.task.task - INFO - Task initialized: uuid=9771ea9e-7941-46c9-8803-f0fbfd00a50d, name='my-default-task', state=SCHEDULED, image='strm/helloworld-http'
2025-07-03 13:59:33 - qubik.task.task_event - INFO - TaskEvent created: event_id=980c5825-06e7-42b6-b791-79bf679420b8, target_state=RUNNING, timestamp=2025-07-03 08:59:33, task_uuid=9771ea9e-7941-46c9-8803-f0fbfd00a50d, task_name='my-default-task'
2025-07-03 13:59:33 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 9771ea9e) added to queue.
2025-07-03 13:59:33 - qubik.api.api - INFO - Added task 9771ea9e-7941-46c9-8803-f0fbfd00a50d to worker queue.
2025-07-03 13:59:37 - qubik.worker.worker - INFO - Dequeued task 'my-default-task' (UUID: 9771ea9e) with desired state: SCHEDULED.
2025-07-03 13:59:37 - qubik.worker.worker - INFO - Task 'my-default-task' (UUID: 9771ea9e) not found in DB. Assuming initial state PENDING.
2025-07-03 13:59:37 - qubik.worker.worker - INFO - Worker 'test-worker': Starting task 'my-default-task' (UUID: 9771ea9e) as desired state is SCHEDULED.
2025-07-03 13:59:37 - qubik.worker.worker - DEBUG - start_task: Starting task_id=9771ea9e-7941-46c9-8803-f0fbfd00a50d ('my-default-task')
2025-07-03 13:59:37 - qubik.task.config - INFO - Config created: my-default-task-9771ea9e (image: strm/helloworld-http)
Config details - CPU: 1.0, Memory: 268435456, Disk: 1, Ports: []
2025-07-03 13:59:37 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-03 13:59:37 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-03 13:59:37 - qubik.task.qubik_docker - INFO - Attempting to run task 'my-default-task-9771ea9e' with image 'strm/helloworld-http'
2025-07-03 13:59:37 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-03 13:59:38 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-03 13:59:38 - qubik.task.qubik_docker - INFO - Creating container 'my-default-task-9771ea9e' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'my-default-task-9771ea9e', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 1000000000, 'tty': False}
2025-07-03 13:59:38 - qubik.task.qubik_docker - INFO - Container 'my-default-task-9771ea9e' created with ID: 2716aa0528b7d3f4776ec94994a1b3622683586858ac1e06fcce6e9b43024927
2025-07-03 13:59:38 - qubik.task.qubik_docker - INFO - Starting container '2716aa0528b7d3f4776ec94994a1b3622683586858ac1e06fcce6e9b43024927'...
2025-07-03 13:59:39 - qubik.task.qubik_docker - INFO - Container '2716aa0528b7d3f4776ec94994a1b3622683586858ac1e06fcce6e9b43024927' started successfully.
2025-07-03 13:59:39 - qubik.task.qubik_docker - INFO - Logs for container '2716aa0528b7d3f4776ec94994a1b3622683586858ac1e06fcce6e9b43024927':

2025-07-03 13:59:39 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 2716aa0528b7d3f4776ec94994a1b3622683586858ac1e06fcce6e9b43024927) - Result: success
2025-07-03 13:59:39 - qubik.worker.worker - INFO - Worker 'test-worker': Started task 'my-default-task' (Container ID: 2716aa0528b7d3f4776ec94994a1b3622683586858ac1e06fcce6e9b43024927).
2025-07-03 13:59:39 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:39 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:59:44 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:44 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:59:46 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:59:47 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-03 13:59:49 - qubik.api.api - DEBUG - Received request to get worker stats.
2025-07-03 13:59:49 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:54 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 13:59:59 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-03 14:00:00 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-04 04:27:10 - qubik - INFO - Logging configured
2025-07-04 04:27:10 - qubik.main - INFO - Starting Orchestrator Core Test Script (main.py)
2025-07-04 04:27:10 - qubik.worker.worker - INFO - Initializing Worker: name='test-worker'
2025-07-04 04:27:10 - qubik.main - INFO - Starting worker task processing loop...
2025-07-04 04:27:10 - qubik.main - INFO - Worker task processing loop started in a background thread.
2025-07-04 04:27:10 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 04:27:10 - qubik.worker.worker - DEBUG - Collecting stats for worker 'test-worker'
2025-07-04 04:27:10 - qubik.worker.worker - INFO - Started background metrics collection for worker 'test-worker'
2025-07-04 04:27:10 - qubik.main - INFO - Worker metrics collection started in a background thread.
2025-07-04 04:27:10 - qubik.main - INFO - Starting FastAPI API server on 127.0.0.1:5555
2025-07-04 04:27:12 - qubik.main - INFO - Orchestrator Core Test Script Finished Successfully.
2025-07-04 05:19:19 - qubik - INFO - Logging configured
2025-07-04 05:19:19 - qubik.main - INFO - Starting Cube Orchestrator (Worker + Manager)
2025-07-04 05:19:19 - qubik.main - INFO - Configuring worker API to listen on localhost:5555
2025-07-04 05:19:19 - qubik.main - INFO - Initializing Worker instance...
2025-07-04 05:19:19 - qubik.worker.worker - INFO - Initializing Worker: name='worker_0'
2025-07-04 05:19:19 - qubik.main - INFO - Worker instance assigned to FastAPI global worker.
2025-07-04 05:19:19 - qubik.main - INFO - Initializing Manager instance...
2025-07-04 05:19:19 - qubik.manager.manager - INFO - Initializing Manager: name='main-manager', initial_workers=['localhost:5555']
2025-07-04 05:19:19 - qubik.main - INFO - Starting Worker components in separate threads...
2025-07-04 05:19:19 - qubik.main - INFO - Starting worker task processing loop...
2025-07-04 05:19:19 - qubik.main - INFO - WorkerRunThread started.
2025-07-04 05:19:19 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:19:19 - qubik.main - INFO - Starting Worker API server on http://localhost:5555...
2025-07-04 05:19:19 - qubik.main - INFO - WorkerApiThread started.
2025-07-04 05:19:21 - qubik.main - INFO - Creating and sending 3 initial tasks to the Manager...
2025-07-04 05:19:21 - qubik.task.task - INFO - Task initialized: uuid=e3d213fc-1e34-49db-8d63-868d6fa9ebb2, name='test-container-0', state=PENDING, image='strm/helloworld-http'
2025-07-04 05:19:21 - qubik.task.task_event - INFO - TaskEvent created: event_id=acfdceba-9f6e-4413-8641-273fd2e7b894, target_state=PENDING, timestamp=2025-07-04 00:19:21, task_uuid=e3d213fc-1e34-49db-8d63-868d6fa9ebb2, task_name='test-container-0'
2025-07-04 05:19:21 - qubik.manager.manager - INFO - Added task event acfdceba-9f6e-4413-8641-273fd2e7b894 (for task e3d213fc-1e34-49db-8d63-868d6fa9ebb2) to pending queue.
2025-07-04 05:19:21 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for tasks
2025-07-04 05:19:21 - qubik.manager.manager - DEBUG - select_worker: Selected worker=localhost:5555
2025-07-04 05:19:21 - qubik.manager.manager - INFO - Pulled task event acfdceba-9f6e-4413-8641-273fd2e7b894 (for task e3d213fc-1e34-49db-8d63-868d6fa9ebb2 - test-container-0) off pending queue
2025-07-04 05:19:21 - qubik.api.api - CRITICAL - Worker instance not initialized for API.
2025-07-04 05:19:21 - qubik.manager.manager - ERROR - HTTP error from worker localhost:5555 at http://localhost:5555/tasks: Status 500 - {"detail":"Worker service not available."}
2025-07-04 05:19:21 - qubik.manager.manager - ERROR - Failed to decode error response from worker: 2 validation errors for ErrorResponse
http_status_code
  Field required [type=missing, input_value={'detail': 'Worker service not available.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
message
  Field required [type=missing, input_value={'detail': 'Worker service not available.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing. Raw response: {"detail":"Worker service not available."}
2025-07-04 05:19:21 - qubik.manager.manager - INFO - Task event acfdceba-9f6e-4413-8641-273fd2e7b894 re-enqueued due to worker HTTP error.
2025-07-04 05:19:21 - qubik.main - INFO - Task e3d213fc-1e34-49db-8d63-868d6fa9ebb2 added to manager's pending queue and manager attempted to send.
2025-07-04 05:19:22 - qubik.task.task - INFO - Task initialized: uuid=a1dbd239-2324-46d4-9495-def4479d5b6b, name='test-container-1', state=PENDING, image='strm/helloworld-http'
2025-07-04 05:19:22 - qubik.task.task_event - INFO - TaskEvent created: event_id=791e9837-fefe-4f28-bb04-445172dad265, target_state=PENDING, timestamp=2025-07-04 00:19:22, task_uuid=a1dbd239-2324-46d4-9495-def4479d5b6b, task_name='test-container-1'
2025-07-04 05:19:22 - qubik.manager.manager - INFO - Added task event 791e9837-fefe-4f28-bb04-445172dad265 (for task a1dbd239-2324-46d4-9495-def4479d5b6b) to pending queue.
2025-07-04 05:19:22 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for tasks
2025-07-04 05:19:22 - qubik.manager.manager - DEBUG - select_worker: Selected worker=localhost:5555
2025-07-04 05:19:22 - qubik.manager.manager - INFO - Pulled task event acfdceba-9f6e-4413-8641-273fd2e7b894 (for task e3d213fc-1e34-49db-8d63-868d6fa9ebb2 - test-container-0) off pending queue
2025-07-04 05:19:22 - qubik.api.api - CRITICAL - Worker instance not initialized for API.
2025-07-04 05:19:22 - qubik.manager.manager - ERROR - HTTP error from worker localhost:5555 at http://localhost:5555/tasks: Status 500 - {"detail":"Worker service not available."}
2025-07-04 05:19:22 - qubik.manager.manager - ERROR - Failed to decode error response from worker: 2 validation errors for ErrorResponse
http_status_code
  Field required [type=missing, input_value={'detail': 'Worker service not available.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
message
  Field required [type=missing, input_value={'detail': 'Worker service not available.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing. Raw response: {"detail":"Worker service not available."}
2025-07-04 05:19:22 - qubik.manager.manager - INFO - Task event acfdceba-9f6e-4413-8641-273fd2e7b894 re-enqueued due to worker HTTP error.
2025-07-04 05:19:22 - qubik.main - INFO - Task a1dbd239-2324-46d4-9495-def4479d5b6b added to manager's pending queue and manager attempted to send.
2025-07-04 05:19:22 - qubik.task.task - INFO - Task initialized: uuid=716e9f6c-51f7-4f0c-bd65-8e0c568faa2f, name='test-container-2', state=PENDING, image='strm/helloworld-http'
2025-07-04 05:19:22 - qubik.task.task_event - INFO - TaskEvent created: event_id=47593aa9-1ca7-4161-9ace-33b9ee3471cd, target_state=PENDING, timestamp=2025-07-04 00:19:22, task_uuid=716e9f6c-51f7-4f0c-bd65-8e0c568faa2f, task_name='test-container-2'
2025-07-04 05:19:22 - qubik.manager.manager - INFO - Added task event 47593aa9-1ca7-4161-9ace-33b9ee3471cd (for task 716e9f6c-51f7-4f0c-bd65-8e0c568faa2f) to pending queue.
2025-07-04 05:19:22 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for tasks
2025-07-04 05:19:22 - qubik.manager.manager - DEBUG - select_worker: Selected worker=localhost:5555
2025-07-04 05:19:22 - qubik.manager.manager - INFO - Pulled task event acfdceba-9f6e-4413-8641-273fd2e7b894 (for task e3d213fc-1e34-49db-8d63-868d6fa9ebb2 - test-container-0) off pending queue
2025-07-04 05:19:22 - qubik.api.api - CRITICAL - Worker instance not initialized for API.
2025-07-04 05:19:22 - qubik.manager.manager - ERROR - HTTP error from worker localhost:5555 at http://localhost:5555/tasks: Status 500 - {"detail":"Worker service not available."}
2025-07-04 05:19:22 - qubik.manager.manager - ERROR - Failed to decode error response from worker: 2 validation errors for ErrorResponse
http_status_code
  Field required [type=missing, input_value={'detail': 'Worker service not available.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
message
  Field required [type=missing, input_value={'detail': 'Worker service not available.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing. Raw response: {"detail":"Worker service not available."}
2025-07-04 05:19:22 - qubik.manager.manager - INFO - Task event acfdceba-9f6e-4413-8641-273fd2e7b894 re-enqueued due to worker HTTP error.
2025-07-04 05:19:22 - qubik.main - INFO - Task 716e9f6c-51f7-4f0c-bd65-8e0c568faa2f added to manager's pending queue and manager attempted to send.
2025-07-04 05:19:23 - qubik.main - INFO - Starting Manager update and observation loops in separate threads...
2025-07-04 05:19:23 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:19:23 - qubik.main - INFO - ManagerUpdateThread started.
2025-07-04 05:19:23 - qubik.manager.manager - DEBUG - update_tasks: Updating 3 pending tasks
2025-07-04 05:19:23 - qubik.main - INFO - [Observer Thread] Task: id: e3d213fc-1e34-49db-8d63-868d6fa9ebb2, state: SCHEDULED
2025-07-04 05:19:23 - qubik.main - INFO - ManagerObserveThread started.
2025-07-04 05:19:23 - qubik.main - INFO - All components started. Manager and Worker are running.
2025-07-04 05:19:23 - qubik.main - INFO - Monitor logs in this terminal. Use 'curl http://localhost:5555/tasks' or 'docker ps' in another terminal to verify.
2025-07-04 05:19:23 - qubik.main - INFO - 
Press Enter to stop the orchestrator (or Ctrl+C)...
2025-07-04 05:19:23 - qubik.api.api - CRITICAL - Worker instance not initialized for API.
2025-07-04 05:19:23 - qubik.manager.manager - ERROR - HTTP error from worker localhost:5555 during update: Status 500 - {"detail":"Worker service not available."}
2025-07-04 05:19:24 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:19:29 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:19:34 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:19:34 - qubik.main - INFO - KeyboardInterrupt detected. Initiating graceful shutdown.
2025-07-04 05:19:34 - qubik.main - INFO - Orchestrator Core Test Script Finished.
2025-07-04 05:21:51 - qubik - INFO - Logging configured
2025-07-04 05:21:51 - qubik.main - INFO - Starting Cube Orchestrator (Worker + Manager)
2025-07-04 05:21:51 - qubik.main - INFO - Configuring worker API to listen on localhost:5555
2025-07-04 05:21:51 - qubik.main - INFO - Initializing Worker instance...
2025-07-04 05:21:51 - qubik.worker.worker - INFO - Initializing Worker: name='worker_0'
2025-07-04 05:21:51 - qubik.main - INFO - Worker instance assigned to FastAPI global worker.
2025-07-04 05:21:51 - qubik.main - INFO - Initializing Manager instance...
2025-07-04 05:21:51 - qubik.manager.manager - INFO - Initializing Manager: name='main-manager', initial_workers=['localhost:5555']
2025-07-04 05:21:51 - qubik.main - INFO - Starting Worker components in separate threads...
2025-07-04 05:21:51 - qubik.main - INFO - Starting worker task processing loop...
2025-07-04 05:21:51 - qubik.main - INFO - WorkerRunThread started.
2025-07-04 05:21:51 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:21:51 - qubik.main - INFO - Starting Worker API server on http://localhost:5555...
2025-07-04 05:21:51 - qubik.main - INFO - WorkerApiThread started.
2025-07-04 05:21:53 - qubik.main - INFO - Creating and sending 3 initial tasks to the Manager...
2025-07-04 05:21:53 - qubik.task.task - INFO - Task initialized: uuid=adc2d388-f09e-4078-bbcd-7acb812e325d, name='test-container-0', state=PENDING, image='strm/helloworld-http'
2025-07-04 05:21:53 - qubik.task.task_event - INFO - TaskEvent created: event_id=f8230444-3502-46ce-8fdd-e80f7652a7a6, target_state=PENDING, timestamp=2025-07-04 00:21:53, task_uuid=adc2d388-f09e-4078-bbcd-7acb812e325d, task_name='test-container-0'
2025-07-04 05:21:53 - qubik.manager.manager - INFO - Added task event f8230444-3502-46ce-8fdd-e80f7652a7a6 (for task adc2d388-f09e-4078-bbcd-7acb812e325d) to pending queue.
2025-07-04 05:21:53 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for tasks
2025-07-04 05:21:53 - qubik.manager.manager - DEBUG - select_worker: Selected worker=localhost:5555
2025-07-04 05:21:53 - qubik.manager.manager - INFO - Pulled task event f8230444-3502-46ce-8fdd-e80f7652a7a6 (for task adc2d388-f09e-4078-bbcd-7acb812e325d - test-container-0) off pending queue
2025-07-04 05:21:53 - qubik.api.api - INFO - Received request to start task event ID: f8230444-3502-46ce-8fdd-e80f7652a7a6
2025-07-04 05:21:53 - qubik.task.task - INFO - Task initialized: uuid=adc2d388-f09e-4078-bbcd-7acb812e325d, name='test-container-0', state=SCHEDULED, image='strm/helloworld-http'
2025-07-04 05:21:53 - qubik.task.task_event - INFO - TaskEvent created: event_id=f8230444-3502-46ce-8fdd-e80f7652a7a6, target_state=PENDING, timestamp=2025-07-04 00:21:53, task_uuid=adc2d388-f09e-4078-bbcd-7acb812e325d, task_name='test-container-0'
2025-07-04 05:21:53 - qubik.worker.worker - INFO - Task 'test-container-0' (UUID: adc2d388) added to queue.
2025-07-04 05:21:53 - qubik.api.api - INFO - Added task adc2d388-f09e-4078-bbcd-7acb812e325d to worker queue.
2025-07-04 05:21:53 - qubik.manager.manager - INFO - Successfully sent task adc2d388-f09e-4078-bbcd-7acb812e325d to worker localhost:5555. Worker returned: task_id=UUID('adc2d388-f09e-4078-bbcd-7acb812e325d') name='test-container-0' state=1 image='strm/helloworld-http' cpu=0.5 memory=268435456 disk=1 restart_policy='no' exposed_ports=[80] port_bindings={8000: 80} container_id=None start_time=None finish_time=None
2025-07-04 05:21:53 - qubik.task.task - INFO - Task initialized: uuid=adc2d388-f09e-4078-bbcd-7acb812e325d, name='test-container-0', state=SCHEDULED, image='strm/helloworld-http'
2025-07-04 05:21:53 - qubik.manager.manager - DEBUG - Manager's task_db updated for task adc2d388-f09e-4078-bbcd-7acb812e325d with worker's response.
2025-07-04 05:21:53 - qubik.main - INFO - Task adc2d388-f09e-4078-bbcd-7acb812e325d added to manager's pending queue and manager attempted to send.
2025-07-04 05:21:54 - qubik.task.task - INFO - Task initialized: uuid=91038841-4815-4578-8648-ca9f826742a1, name='test-container-1', state=PENDING, image='strm/helloworld-http'
2025-07-04 05:21:54 - qubik.task.task_event - INFO - TaskEvent created: event_id=edc90f2d-ea2d-4e4b-9533-b8f29702459b, target_state=PENDING, timestamp=2025-07-04 00:21:54, task_uuid=91038841-4815-4578-8648-ca9f826742a1, task_name='test-container-1'
2025-07-04 05:21:54 - qubik.manager.manager - INFO - Added task event edc90f2d-ea2d-4e4b-9533-b8f29702459b (for task 91038841-4815-4578-8648-ca9f826742a1) to pending queue.
2025-07-04 05:21:54 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for tasks
2025-07-04 05:21:54 - qubik.manager.manager - DEBUG - select_worker: Selected worker=localhost:5555
2025-07-04 05:21:54 - qubik.manager.manager - INFO - Pulled task event edc90f2d-ea2d-4e4b-9533-b8f29702459b (for task 91038841-4815-4578-8648-ca9f826742a1 - test-container-1) off pending queue
2025-07-04 05:21:54 - qubik.api.api - INFO - Received request to start task event ID: edc90f2d-ea2d-4e4b-9533-b8f29702459b
2025-07-04 05:21:54 - qubik.task.task - INFO - Task initialized: uuid=91038841-4815-4578-8648-ca9f826742a1, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-04 05:21:54 - qubik.task.task_event - INFO - TaskEvent created: event_id=edc90f2d-ea2d-4e4b-9533-b8f29702459b, target_state=PENDING, timestamp=2025-07-04 00:21:54, task_uuid=91038841-4815-4578-8648-ca9f826742a1, task_name='test-container-1'
2025-07-04 05:21:54 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 91038841) added to queue.
2025-07-04 05:21:54 - qubik.api.api - INFO - Added task 91038841-4815-4578-8648-ca9f826742a1 to worker queue.
2025-07-04 05:21:54 - qubik.manager.manager - INFO - Successfully sent task 91038841-4815-4578-8648-ca9f826742a1 to worker localhost:5555. Worker returned: task_id=UUID('91038841-4815-4578-8648-ca9f826742a1') name='test-container-1' state=1 image='strm/helloworld-http' cpu=0.5 memory=268435456 disk=1 restart_policy='no' exposed_ports=[80] port_bindings={8001: 80} container_id=None start_time=None finish_time=None
2025-07-04 05:21:54 - qubik.task.task - INFO - Task initialized: uuid=91038841-4815-4578-8648-ca9f826742a1, name='test-container-1', state=SCHEDULED, image='strm/helloworld-http'
2025-07-04 05:21:54 - qubik.manager.manager - DEBUG - Manager's task_db updated for task 91038841-4815-4578-8648-ca9f826742a1 with worker's response.
2025-07-04 05:21:54 - qubik.main - INFO - Task 91038841-4815-4578-8648-ca9f826742a1 added to manager's pending queue and manager attempted to send.
2025-07-04 05:21:54 - qubik.task.task - INFO - Task initialized: uuid=f6207191-7e1b-4655-8537-42dd8705d70e, name='test-container-2', state=PENDING, image='strm/helloworld-http'
2025-07-04 05:21:54 - qubik.task.task_event - INFO - TaskEvent created: event_id=c7dabebf-6d04-4c5c-b4b4-3f3993915682, target_state=PENDING, timestamp=2025-07-04 00:21:54, task_uuid=f6207191-7e1b-4655-8537-42dd8705d70e, task_name='test-container-2'
2025-07-04 05:21:54 - qubik.manager.manager - INFO - Added task event c7dabebf-6d04-4c5c-b4b4-3f3993915682 (for task f6207191-7e1b-4655-8537-42dd8705d70e) to pending queue.
2025-07-04 05:21:54 - qubik.manager.manager - DEBUG - select_worker: Selecting worker for tasks
2025-07-04 05:21:54 - qubik.manager.manager - DEBUG - select_worker: Selected worker=localhost:5555
2025-07-04 05:21:54 - qubik.manager.manager - INFO - Pulled task event c7dabebf-6d04-4c5c-b4b4-3f3993915682 (for task f6207191-7e1b-4655-8537-42dd8705d70e - test-container-2) off pending queue
2025-07-04 05:21:54 - qubik.api.api - INFO - Received request to start task event ID: c7dabebf-6d04-4c5c-b4b4-3f3993915682
2025-07-04 05:21:54 - qubik.task.task - INFO - Task initialized: uuid=f6207191-7e1b-4655-8537-42dd8705d70e, name='test-container-2', state=SCHEDULED, image='strm/helloworld-http'
2025-07-04 05:21:54 - qubik.task.task_event - INFO - TaskEvent created: event_id=c7dabebf-6d04-4c5c-b4b4-3f3993915682, target_state=PENDING, timestamp=2025-07-04 00:21:54, task_uuid=f6207191-7e1b-4655-8537-42dd8705d70e, task_name='test-container-2'
2025-07-04 05:21:54 - qubik.worker.worker - INFO - Task 'test-container-2' (UUID: f6207191) added to queue.
2025-07-04 05:21:54 - qubik.api.api - INFO - Added task f6207191-7e1b-4655-8537-42dd8705d70e to worker queue.
2025-07-04 05:21:54 - qubik.manager.manager - INFO - Successfully sent task f6207191-7e1b-4655-8537-42dd8705d70e to worker localhost:5555. Worker returned: task_id=UUID('f6207191-7e1b-4655-8537-42dd8705d70e') name='test-container-2' state=1 image='strm/helloworld-http' cpu=0.5 memory=268435456 disk=1 restart_policy='no' exposed_ports=[80] port_bindings={8002: 80} container_id=None start_time=None finish_time=None
2025-07-04 05:21:54 - qubik.task.task - INFO - Task initialized: uuid=f6207191-7e1b-4655-8537-42dd8705d70e, name='test-container-2', state=SCHEDULED, image='strm/helloworld-http'
2025-07-04 05:21:54 - qubik.manager.manager - DEBUG - Manager's task_db updated for task f6207191-7e1b-4655-8537-42dd8705d70e with worker's response.
2025-07-04 05:21:54 - qubik.main - INFO - Task f6207191-7e1b-4655-8537-42dd8705d70e added to manager's pending queue and manager attempted to send.
2025-07-04 05:21:55 - qubik.main - INFO - Starting Manager update and observation loops in separate threads...
2025-07-04 05:21:55 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:21:55 - qubik.main - INFO - ManagerUpdateThread started.
2025-07-04 05:21:55 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:21:55 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: SCHEDULED
2025-07-04 05:21:55 - qubik.main - INFO - ManagerObserveThread started.
2025-07-04 05:21:55 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:21:55 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: SCHEDULED
2025-07-04 05:21:55 - qubik.main - INFO - All components started. Manager and Worker are running.
2025-07-04 05:21:55 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: SCHEDULED
2025-07-04 05:21:55 - qubik.main - INFO - Monitor logs in this terminal. Use 'curl http://localhost:5555/tasks' or 'docker ps' in another terminal to verify.
2025-07-04 05:21:55 - qubik.main - INFO - 
Press Enter to stop the orchestrator (or Ctrl+C)...
2025-07-04 05:21:55 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:21:55 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:21:56 - qubik.worker.worker - INFO - Dequeued task 'test-container-0' (UUID: adc2d388) with desired state: SCHEDULED.
2025-07-04 05:21:56 - qubik.worker.worker - INFO - Task 'test-container-0' (UUID: adc2d388) not found in DB. Assuming initial state PENDING.
2025-07-04 05:21:56 - qubik.worker.worker - INFO - Worker 'worker_0': Starting task 'test-container-0' (UUID: adc2d388) as desired state is SCHEDULED.
2025-07-04 05:21:56 - qubik.worker.worker - DEBUG - start_task: Starting task_id=adc2d388-f09e-4078-bbcd-7acb812e325d ('test-container-0')
2025-07-04 05:21:56 - qubik.task.config - INFO - Config created: test-container-0-adc2d388 (image: strm/helloworld-http)
Config details - CPU: 0.5, Memory: 268435456, Disk: 1, Ports: [80]
2025-07-04 05:21:56 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-04 05:21:56 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-04 05:21:56 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-0-adc2d388' with image 'strm/helloworld-http'
2025-07-04 05:21:56 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-04 05:22:10 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: SCHEDULED
2025-07-04 05:22:10 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:22:10 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: SCHEDULED
2025-07-04 05:22:10 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:22:10 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: SCHEDULED
2025-07-04 05:22:10 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:22:10 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:22:10 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:22:25 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: SCHEDULED
2025-07-04 05:22:25 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: SCHEDULED
2025-07-04 05:22:25 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: SCHEDULED
2025-07-04 05:22:25 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:22:25 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:22:25 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:22:25 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:22:25 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:22:40 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: SCHEDULED
2025-07-04 05:22:40 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: SCHEDULED
2025-07-04 05:22:40 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: SCHEDULED
2025-07-04 05:22:40 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:22:40 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:22:40 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:22:40 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:22:40 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:22:55 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: SCHEDULED
2025-07-04 05:22:55 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: SCHEDULED
2025-07-04 05:22:55 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: SCHEDULED
2025-07-04 05:22:55 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:22:55 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:22:55 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:22:55 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:22:55 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Creating container 'test-container-0-adc2d388' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-0-adc2d388', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'tty': False}
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Container 'test-container-0-adc2d388' created with ID: 188432e4f98be89a9a90c785040718294b9064243c33ec9c48ee2a79e9c14490
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Starting container '188432e4f98be89a9a90c785040718294b9064243c33ec9c48ee2a79e9c14490'...
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Container '188432e4f98be89a9a90c785040718294b9064243c33ec9c48ee2a79e9c14490' started successfully.
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Logs for container '188432e4f98be89a9a90c785040718294b9064243c33ec9c48ee2a79e9c14490':

2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 188432e4f98be89a9a90c785040718294b9064243c33ec9c48ee2a79e9c14490) - Result: success
2025-07-04 05:22:59 - qubik.worker.worker - INFO - Worker 'worker_0': Started task 'test-container-0' (Container ID: 188432e4f98be89a9a90c785040718294b9064243c33ec9c48ee2a79e9c14490).
2025-07-04 05:22:59 - qubik.worker.worker - INFO - Dequeued task 'test-container-1' (UUID: 91038841) with desired state: SCHEDULED.
2025-07-04 05:22:59 - qubik.worker.worker - INFO - Task 'test-container-1' (UUID: 91038841) not found in DB. Assuming initial state PENDING.
2025-07-04 05:22:59 - qubik.worker.worker - INFO - Worker 'worker_0': Starting task 'test-container-1' (UUID: 91038841) as desired state is SCHEDULED.
2025-07-04 05:22:59 - qubik.worker.worker - DEBUG - start_task: Starting task_id=91038841-4815-4578-8648-ca9f826742a1 ('test-container-1')
2025-07-04 05:22:59 - qubik.task.config - INFO - Config created: test-container-1-91038841 (image: strm/helloworld-http)
Config details - CPU: 0.5, Memory: 268435456, Disk: 1, Ports: [80]
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-04 05:22:59 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-1-91038841' with image 'strm/helloworld-http'
2025-07-04 05:22:59 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Creating container 'test-container-1-91038841' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-1-91038841', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'tty': False}
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Container 'test-container-1-91038841' created with ID: 7f04677dc6276f2b5372ae59fd7d798bbeb252bca545b25e32e26cb0bdaf08ea
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Starting container '7f04677dc6276f2b5372ae59fd7d798bbeb252bca545b25e32e26cb0bdaf08ea'...
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Container '7f04677dc6276f2b5372ae59fd7d798bbeb252bca545b25e32e26cb0bdaf08ea' started successfully.
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Logs for container '7f04677dc6276f2b5372ae59fd7d798bbeb252bca545b25e32e26cb0bdaf08ea':

2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 7f04677dc6276f2b5372ae59fd7d798bbeb252bca545b25e32e26cb0bdaf08ea) - Result: success
2025-07-04 05:23:01 - qubik.worker.worker - INFO - Worker 'worker_0': Started task 'test-container-1' (Container ID: 7f04677dc6276f2b5372ae59fd7d798bbeb252bca545b25e32e26cb0bdaf08ea).
2025-07-04 05:23:01 - qubik.worker.worker - INFO - Dequeued task 'test-container-2' (UUID: f6207191) with desired state: SCHEDULED.
2025-07-04 05:23:01 - qubik.worker.worker - INFO - Task 'test-container-2' (UUID: f6207191) not found in DB. Assuming initial state PENDING.
2025-07-04 05:23:01 - qubik.worker.worker - INFO - Worker 'worker_0': Starting task 'test-container-2' (UUID: f6207191) as desired state is SCHEDULED.
2025-07-04 05:23:01 - qubik.worker.worker - DEBUG - start_task: Starting task_id=f6207191-7e1b-4655-8537-42dd8705d70e ('test-container-2')
2025-07-04 05:23:01 - qubik.task.config - INFO - Config created: test-container-2-f6207191 (image: strm/helloworld-http)
Config details - CPU: 0.5, Memory: 268435456, Disk: 1, Ports: [80]
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Docker client initialized for image: 'strm/helloworld-http'
2025-07-04 05:23:01 - qubik.task.qubik_docker - DEBUG - Initialized Docker client from environment variables.
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Attempting to run task 'test-container-2-f6207191' with image 'strm/helloworld-http'
2025-07-04 05:23:01 - qubik.task.qubik_docker - INFO - Pulling image: 'strm/helloworld-http'...
2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - Image 'strm/helloworld-http' pulled successfully.
2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - Creating container 'test-container-2-f6207191' with config: {'image': 'strm/helloworld-http', 'environment': [], 'name': 'test-container-2-f6207191', 'restart_policy': {'Name': 'no'}, 'publish_all_ports': True, 'mem_limit': 268435456, 'nano_cpus': 500000000, 'tty': False}
2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - Container 'test-container-2-f6207191' created with ID: 1b4c9da81e8fe0619ddf209bc223be33633c350f8e16d1ef4a31d75be19c0c2b
2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - Starting container '1b4c9da81e8fe0619ddf209bc223be33633c350f8e16d1ef4a31d75be19c0c2b'...
2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - Container '1b4c9da81e8fe0619ddf209bc223be33633c350f8e16d1ef4a31d75be19c0c2b' started successfully.
2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - Logs for container '1b4c9da81e8fe0619ddf209bc223be33633c350f8e16d1ef4a31d75be19c0c2b':

2025-07-04 05:23:02 - qubik.task.qubik_docker - INFO - DockerResult created for action 'start' (container_id: 1b4c9da81e8fe0619ddf209bc223be33633c350f8e16d1ef4a31d75be19c0c2b) - Result: success
2025-07-04 05:23:02 - qubik.worker.worker - INFO - Worker 'worker_0': Started task 'test-container-2' (Container ID: 1b4c9da81e8fe0619ddf209bc223be33633c350f8e16d1ef4a31d75be19c0c2b).
2025-07-04 05:23:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:10 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: SCHEDULED
2025-07-04 05:23:10 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: SCHEDULED
2025-07-04 05:23:10 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: SCHEDULED
2025-07-04 05:23:10 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:23:10 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:23:10 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:23:10 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:23:10 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:23:10 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:23:10 - qubik.manager.manager - INFO - Task adc2d388-f09e-4078-bbcd-7acb812e325d state updated to RUNNING based on worker localhost:5555.
2025-07-04 05:23:10 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:23:10 - qubik.manager.manager - INFO - Task 91038841-4815-4578-8648-ca9f826742a1 state updated to RUNNING based on worker localhost:5555.
2025-07-04 05:23:10 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:23:10 - qubik.manager.manager - INFO - Task f6207191-7e1b-4655-8537-42dd8705d70e state updated to RUNNING based on worker localhost:5555.
2025-07-04 05:23:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:25 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: RUNNING
2025-07-04 05:23:25 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: RUNNING
2025-07-04 05:23:25 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: RUNNING
2025-07-04 05:23:25 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:23:25 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:23:25 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:23:25 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:23:25 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:23:25 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:23:25 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:23:25 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:23:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:37 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:23:37 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:23:40 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: RUNNING
2025-07-04 05:23:40 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: RUNNING
2025-07-04 05:23:40 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: RUNNING
2025-07-04 05:23:40 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:23:40 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:23:40 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:23:40 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:23:40 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:23:40 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:23:40 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:23:40 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:23:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:47 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:48 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:23:48 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:23:52 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:23:55 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: RUNNING
2025-07-04 05:23:55 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: RUNNING
2025-07-04 05:23:55 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: RUNNING
2025-07-04 05:23:55 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:23:55 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:23:55 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:23:55 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:23:55 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:23:55 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:23:55 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:23:55 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:23:57 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:02 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:07 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:10 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: RUNNING
2025-07-04 05:24:10 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: RUNNING
2025-07-04 05:24:10 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: RUNNING
2025-07-04 05:24:10 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:24:10 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:24:10 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:24:10 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:24:10 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:24:10 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:24:10 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:24:10 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:24:12 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:17 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:22 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:25 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: RUNNING
2025-07-04 05:24:25 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: RUNNING
2025-07-04 05:24:25 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: RUNNING
2025-07-04 05:24:25 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:24:25 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:24:25 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:24:25 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:24:25 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:24:25 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:24:25 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:24:25 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:24:27 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:32 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:37 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:40 - qubik.main - INFO - [Observer Thread] Task: id: adc2d388-f09e-4078-bbcd-7acb812e325d, state: RUNNING
2025-07-04 05:24:40 - qubik.main - INFO - [Observer Thread] Task: id: 91038841-4815-4578-8648-ca9f826742a1, state: RUNNING
2025-07-04 05:24:40 - qubik.main - INFO - [Observer Thread] Task: id: f6207191-7e1b-4655-8537-42dd8705d70e, state: RUNNING
2025-07-04 05:24:40 - qubik.main - INFO - [Manager Thread] Updating tasks from 1 workers
2025-07-04 05:24:40 - qubik.manager.manager - DEBUG - update_tasks: Updating 0 pending tasks
2025-07-04 05:24:40 - qubik.manager.manager - DEBUG - Checking worker localhost:5555 for task updates
2025-07-04 05:24:40 - qubik.api.api - INFO - Received request to get all tasks.
2025-07-04 05:24:40 - qubik.worker.worker - DEBUG - get_tasks: Getting tasks for worker='worker_0'
2025-07-04 05:24:40 - qubik.manager.manager - DEBUG - Attempting to update task adc2d388-f09e-4078-bbcd-7acb812e325d from worker localhost:5555
2025-07-04 05:24:40 - qubik.manager.manager - DEBUG - Attempting to update task 91038841-4815-4578-8648-ca9f826742a1 from worker localhost:5555
2025-07-04 05:24:40 - qubik.manager.manager - DEBUG - Attempting to update task f6207191-7e1b-4655-8537-42dd8705d70e from worker localhost:5555
2025-07-04 05:24:42 - qubik.main - DEBUG - Queue is empty, sleeping...
2025-07-04 05:24:45 - qubik.main - INFO - KeyboardInterrupt detected. Initiating graceful shutdown.
2025-07-04 05:24:45 - qubik.main - INFO - Orchestrator Core Test Script Finished.
